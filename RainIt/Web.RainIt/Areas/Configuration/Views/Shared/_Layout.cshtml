<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - RainIt Web Application</title>    
    @Scripts.Render("~/bundles/modernizr")        
    @Scripts.Render("~/bundles/jquery")    
    <script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.js")" type="text/javascript"></script>
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/jqueryui")
    <link href="~/Content/bootstrapcarousel.css" rel="stylesheet" />
    @Scripts.Render("~/bundles/bootstrap")
    @Styles.Render("~/Content/css")
        @Styles.Render("~/Content/themes/base/css")
    <script src="~/Scripts/custom-ajaxLoadingAnimation.js"></script>
    <script src="~/Scripts/jquery.shapeshift.js"></script>
    <script src="~/Scripts/bootstrap-multiselect.js"></script>
    <link href="~/Content/bootstrap-multiselect.css" rel="stylesheet"/>
    <link href="~/Content/thumbnailscroller/jquery.mThumbnailScroller.css" rel="stylesheet" />
    <script src="~/Scripts/thumbnailscroller/jquery.mThumbnailScroller.js"></script>
</head>
<body>

<div class="navbar-wrapper">
    <div class="container">
        <nav class="navbar navbar-inverse navbar-static-top">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    @Html.ActionLink("RainIt", "Index", "Home", new { area = "" }, new { @class = "navbar-brand" })
                </div>
                <div id="navbar" class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">
                        @if (!HttpContext.Current.User.Identity.IsAuthenticated)
                        {
                            <li class="active">@Html.ActionLink("Log In", "Login", "Account", new { area = "" }, null)</li>
                        }
                        @if (HttpContext.Current.User.Identity.IsAuthenticated)
                        {
                            <li class="active">@Html.ActionLink("Log Out", "LogOff", "Account", new { area = "" }, null)</li>
                        }
                        @if (HttpContext.Current.User.IsInRole("Administrator"))
                        {
                            <li class="active">@Html.ActionLink("Manage Devices", "Index", "Device", new {area = "Administration"}, null)</li>
                        }
                    </ul>
                </div>
            </div>
        </nav>
    </div>
</div>
<div id="mainBody">
    @RenderBody()
</div>
@RenderSection("scripts", required: false)
<script type="text/javascript">
    (function() {
        this.LayoutProperties = this.LayoutProperties || {};

        function addClickListener() {
            $('body').click(function() {
                $('#statusMessage').hide();
            });
        }

        LayoutProperties.SetupPage = function() {
            addClickListener();
        }
    }());
    $(document).ready(function() {
        LayoutProperties.SetupPage();
    });
</script>
</body>
</html>
