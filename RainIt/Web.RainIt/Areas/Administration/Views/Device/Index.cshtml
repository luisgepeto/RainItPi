@using Newtonsoft.Json
@model List<RainIt.Domain.DTO.DeviceDTO>
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "All Devices";
}
<div class="container" style="margin-top: 50px;">
<table>
    <thead>
    <tr>
        <th>
            Device Id
        </th>
        <th>
            Identifier
        </th>
        <th>
            Active Routines
        </th>
    </tr>
    </thead>
    <tbody>
    @foreach (var device in Model)
    {
        <tr>
            <td>
                @device.DeviceId
            </td>
            <td>
                @device.Identifier
            </td>
            <td>
                @device.RoutineDTOs.Aggregate("", (current, routine) => current + (routine.RoutineId + " ")).Trim()
            </td>
        </tr>
    }
    </tbody>
</table>
@using (Html.BeginForm("Add", "Device", new { area = "Administration" }, FormMethod.Get))
{
    <button type="submit" id="addDevice" name="addDeviceButton">Add Device</button>
}
</div>